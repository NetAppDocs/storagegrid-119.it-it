---
permalink: ilm/create-ilm-rule-enter-details.html 
sidebar: sidebar 
keywords: ILM rule step 1, define basics 
summary: 'Il passaggio 1 \(Inserisci dettagli\) della procedura guidata Crea una regola ILM consente di immettere un nome e una descrizione per la regola e di definire i filtri per la regola.' 
---
= Passaggio 1 di 3: Inserisci i dettagli
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Il passaggio *Inserisci dettagli* della procedura guidata Crea una regola ILM consente di immettere un nome e una descrizione per la regola e di definire i filtri per la regola.

L'inserimento di una descrizione e la definizione dei filtri per la regola sono facoltativi.

.Informazioni su questo compito
Quando si valuta un oggetto rispetto a unlink:what-ilm-rule-is.html["Regola ILM"] StorageGRID confronta i metadati dell'oggetto con i filtri della regola.  Se i metadati dell'oggetto corrispondono a tutti i filtri, StorageGRID utilizza la regola per posizionare l'oggetto.  È possibile progettare una regola da applicare a tutti gli oggetti oppure specificare filtri di base, come uno o più account tenant o nomi di bucket, oppure filtri avanzati, come le dimensioni dell'oggetto o i metadati dell'utente.

.Passi
. Immettere un nome univoco per la regola nel campo *Nome*.
. Facoltativamente, inserisci una breve descrizione della regola nel campo *Descrizione*.
+
Dovresti descrivere lo scopo o la funzione della regola in modo da poterla riconoscere in seguito.

. Facoltativamente, seleziona uno o più account tenant S3 a cui si applica questa regola.  Se questa regola si applica a tutti gli inquilini, lasciare vuoto questo campo.
+
Se non si dispone né dell'autorizzazione di accesso Root né dell'autorizzazione Account tenant, non è possibile selezionare i tenant dall'elenco.  In alternativa, immettere l'ID tenant oppure più ID come stringa delimitata da virgole.

. Facoltativamente, specificare i bucket S3 a cui si applica questa regola.
+
Se è selezionata l'opzione *si applica a tutti i bucket* (impostazione predefinita), la regola si applica a tutti i bucket S3.

. Per i tenant S3, selezionare facoltativamente *Sì* per applicare la regola solo alle versioni precedenti degli oggetti nei bucket S3 in cui è abilitato il controllo delle versioni.
+
Se selezioni *Sì*, "Tempo non corrente" verrà automaticamente selezionato per il tempo di riferimento inlink:create-ilm-rule-define-placements.html["Passaggio 2 della procedura guidata Crea una regola ILM"] .

+

NOTE: Il tempo non corrente si applica solo agli oggetti S3 nei bucket abilitati al controllo delle versioni. Vederelink:../s3/operations-on-buckets.html["Operazioni sui bucket, PutBucketVersioning"] Elink:managing-objects-with-s3-object-lock.html["Gestisci gli oggetti con S3 Object Lock"] .

+
È possibile utilizzare questa opzione per ridurre l'impatto sull'archiviazione degli oggetti sottoposti a controllo delle versioni, filtrando le versioni degli oggetti non correnti. Vedere link:example-4-ilm-rules-and-policy-for-s3-versioned-objects.html["Esempio 4: regole e policy ILM per oggetti con versione S3"] .

. Facoltativamente, seleziona *Aggiungi un filtro avanzato* per specificare filtri aggiuntivi.
+
Se non si configura il filtro avanzato, la regola si applica a tutti gli oggetti che corrispondono ai filtri di base.  Per ulteriori informazioni sul filtraggio avanzato, vedere<<Utilizzare filtri avanzati nelle regole ILM>> E<<Specificare più tipi e valori di metadati>> .

. Selezionare *Continua*. link:create-ilm-rule-define-placements.html["Fase 2 (Definire i posizionamenti)"]viene visualizzata la procedura guidata Crea una regola ILM.




== Utilizzare filtri avanzati nelle regole ILM

Il filtraggio avanzato consente di creare regole ILM che si applicano solo a oggetti specifici in base ai loro metadati.  Quando si imposta un filtro avanzato per una regola, si seleziona il tipo di metadati che si desidera abbinare, si seleziona un operatore e si specifica un valore per i metadati.  Quando gli oggetti vengono valutati, la regola ILM viene applicata solo agli oggetti che hanno metadati corrispondenti al filtro avanzato.

Nella tabella sono indicati i tipi di metadati che è possibile specificare nei filtri avanzati, gli operatori che è possibile utilizzare per ciascun tipo di metadati e i valori dei metadati previsti.

[cols="1a,1a,2a"]
|===
| Tipo di metadati | Operatori supportati | Valore dei metadati 


 a| 
Tempo di ingestione
 a| 
* È
* non è
* è prima
* è acceso o prima
* è dopo
* è acceso o dopo

 a| 
Ora e data in cui l'oggetto è stato ingerito.

*Nota:* per evitare problemi di risorse durante l'attivazione di un nuovo criterio ILM, è possibile utilizzare il filtro avanzato Tempo di acquisizione in qualsiasi regola che potrebbe modificare la posizione di un gran numero di oggetti esistenti.  Impostare il tempo di acquisizione su un valore maggiore o uguale al momento approssimativo in cui la nuova policy entrerà in vigore, per garantire che gli oggetti esistenti non vengano spostati inutilmente.



 a| 
Chiave
 a| 
* è uguale
* non è uguale
* contiene
* non contiene
* inizia con
* non inizia con
* finisce con
* non finisce con

 a| 
Tutta o parte di una chiave univoca dell'oggetto S3.

Ad esempio, potresti voler abbinare oggetti che terminano con `.txt` o inizia con `test-object/` .



 a| 
Ultimo orario di accesso
 a| 
* È
* non è
* è prima
* è acceso o prima
* è dopo
* è acceso o dopo

 a| 
Ora e data dell'ultimo recupero (lettura o visualizzazione) dell'oggetto.

*Nota:* se hai intenzione dilink:using-last-access-time-in-ilm-rules.html["usa l'ultimo orario di accesso"] come filtro avanzato, gli aggiornamenti dell'ora dell'ultimo accesso devono essere abilitati per il bucket S3.



 a| 
Vincolo di posizione (solo S3)
 a| 
* è uguale
* non è uguale

 a| 
La regione in cui è stato creato un bucket S3.  Utilizzare *ILM* > *Regioni* per definire le regioni visualizzate.

*Nota:* il valore us-east-1 corrisponderà agli oggetti nei bucket creati nella regione us-east-1 e agli oggetti nei bucket per i quali non è specificata alcuna regione. Vedere link:configuring-regions-optional-and-s3-only.html["Configurare le regioni (facoltativo e solo S3)"] .



 a| 
Dimensione dell'oggetto
 a| 
* è uguale
* non è uguale
* meno di
* minore o uguale a
* maggiore di
* maggiore o uguale a

 a| 
Le dimensioni dell'oggetto.

La codifica di cancellazione è più adatta per oggetti di dimensioni superiori a 1 MB.  Non utilizzare la codifica di cancellazione per oggetti di dimensioni inferiori a 200 KB per evitare il sovraccarico dovuto alla gestione di frammenti molto piccoli con codifica di cancellazione.



 a| 
Metadati utente
 a| 
* contiene
* finisce con
* è uguale
* esiste
* inizia con
* non contiene
* non finisce con
* non è uguale
* non esiste
* non inizia con

 a| 
Coppia chiave-valore, dove *Nome metadati utente* è la chiave e *Valore metadati* è il valore.

Ad esempio, per filtrare gli oggetti che hanno metadati utente di `color=blue` , specificare `color` per *Nome metadati utente*, `equals` per l'operatore, e `blue` per *Valore metadati*.

*Nota:* i nomi dei metadati utente non sono sensibili alle maiuscole e alle minuscole; lo sono invece i valori dei metadati utente.



 a| 
Tag oggetto (solo S3)
 a| 
* contiene
* finisce con
* è uguale
* esiste
* inizia con
* non contiene
* non finisce con
* non è uguale
* non esiste
* non inizia con

 a| 
Coppia chiave-valore, dove *Nome tag oggetto* è la chiave e *Valore tag oggetto* è il valore.

Ad esempio, per filtrare gli oggetti che hanno un tag oggetto di `Image=True` , specificare `Image` per *nome tag oggetto*, `equals` per l'operatore, e `True` per *valore tag oggetto*.

*Nota:* i nomi e i valori dei tag degli oggetti sono sensibili alle maiuscole e alle minuscole.  È necessario immettere questi elementi esattamente come sono stati definiti per l'oggetto.

|===


== Specificare più tipi e valori di metadati

Quando si definisce un filtro avanzato, è possibile specificare più tipi di metadati e più valori di metadati.  Ad esempio, se si desidera che una regola corrisponda a oggetti di dimensioni comprese tra 10 MB e 100 MB, è necessario selezionare il tipo di metadati *Dimensione oggetto* e specificare due valori di metadati.

* Il primo valore dei metadati specifica oggetti maggiori o uguali a 10 MB.
* Il secondo valore dei metadati specifica oggetti di dimensioni inferiori o uguali a 100 MB.


image::../media/advanced_filtering_size_between.png[Esempio di filtraggio avanzato per le dimensioni dell'oggetto]

Utilizzando più voci è possibile avere un controllo preciso sugli oggetti da abbinare.  Nell'esempio seguente, la regola si applica agli oggetti che hanno Brand A o Brand B come valore dei metadati utente camera_type.  Tuttavia, la regola si applica solo agli oggetti Brand B di dimensioni inferiori a 10 MB.

image::../media/advanced_filtering_multiple_rows.png[Esempio di filtraggio avanzato per i metadati utente]
