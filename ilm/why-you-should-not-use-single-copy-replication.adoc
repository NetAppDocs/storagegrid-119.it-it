---
permalink: ilm/why-you-should-not-use-single-copy-replication.html 
sidebar: sidebar 
keywords: dual commit, single commit, number of copies for replication 
summary: Quando si crea una regola ILM per creare copie replicate, è necessario specificare sempre almeno due copie per qualsiasi periodo di tempo nelle istruzioni di posizionamento. 
---
= Perché non dovresti usare la replicazione a copia singola
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Quando si crea una regola ILM per creare copie replicate, è necessario specificare sempre almeno due copie per qualsiasi periodo di tempo nelle istruzioni di posizionamento.


NOTE: Non utilizzare una regola ILM che crea una sola copia replicata per qualsiasi periodo di tempo.  Se esiste una sola copia replicata di un oggetto, tale oggetto viene perso se un nodo di archiviazione si guasta o presenta un errore significativo.  Inoltre, durante le procedure di manutenzione, come gli aggiornamenti, si perde temporaneamente l'accesso all'oggetto.

Nell'esempio seguente, la regola ILM Make 1 Copy specifica che una copia replicata di un oggetto venga inserita in un pool di archiviazione contenente tre nodi di archiviazione.  Quando viene acquisito un oggetto che corrisponde a questa regola, StorageGRID ne posiziona una singola copia su un solo nodo di archiviazione.

image::../media/ilm_replication_make_1_copy.png[Replicazione ILM Crea 1 copia]

Quando una regola ILM crea una sola copia replicata di un oggetto, l'oggetto diventa inaccessibile quando il nodo di archiviazione non è disponibile.  In questo esempio, si perderà temporaneamente l'accesso all'oggetto AAA ogni volta che Storage Node 2 è offline, ad esempio durante un aggiornamento o un'altra procedura di manutenzione.  Se il nodo di archiviazione 2 si guasta, l'oggetto AAA verrà perso completamente.

image::../media/ilm_replication_make_1_copy_sn_fails.png[La replica ILM crea 1 copia SN non riesce]

Per evitare di perdere i dati degli oggetti, è consigliabile effettuare sempre almeno due copie di tutti gli oggetti che si desidera proteggere con la replica.  Se esistono due o più copie, è comunque possibile accedere all'oggetto se un nodo di archiviazione si guasta o va offline.

image::../media/ilm_replication_make_2_copies_sn_fails.png[La replica ILM crea 2 copie SN non riesce]
