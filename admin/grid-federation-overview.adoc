---
permalink: admin/grid-federation-overview.html 
sidebar: sidebar 
keywords: grid federation, cross-grid replication, account clone, cgr, disaster recovery 
summary: È possibile utilizzare la federazione di griglia per clonare i tenant e replicare i loro oggetti tra due sistemi StorageGRID per il ripristino di emergenza. 
---
= Che cos'è la federazione di rete?
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
È possibile utilizzare la federazione di griglia per clonare i tenant e replicare i loro oggetti tra due sistemi StorageGRID per il ripristino di emergenza.



== Che cos'è una connessione di federazione di rete?

Una connessione di federazione di griglia è una connessione bidirezionale, affidabile e sicura tra nodi di amministrazione e gateway in due sistemi StorageGRID .



== Flusso di lavoro per la federazione della griglia

Il diagramma del flusso di lavoro riassume i passaggi per configurare una connessione di federazione di griglia tra due griglie.

image::../media/grid-federation-workflow.png[Flusso di lavoro di connessione della federazione di griglia]



== Considerazioni e requisiti per le connessioni della federazione di rete

* Le griglie utilizzate per la federazione delle griglie devono eseguire versioni StorageGRID identiche o che non presentino più di una differenza di versione principale tra loro.
+
Per i dettagli sui requisiti di versione, fare riferimento alink:../release-notes/index.html["Note di rilascio"] .

* Una rete può avere una o più connessioni di federazione di rete ad altre reti.  Ogni connessione della federazione di rete è indipendente da qualsiasi altra connessione.  Ad esempio, se la Griglia 1 ha una connessione con la Griglia 2 e una seconda connessione con la Griglia 3, non vi è alcuna connessione implicita tra la Griglia 2 e la Griglia 3.
* Le connessioni della federazione di rete sono bidirezionali.  Una volta stabilita la connessione, è possibile monitorarla e gestirla da entrambe le griglie.
* Deve esistere almeno una connessione di federazione di griglia prima di poter utilizzarelink:grid-federation-what-is-account-clone.html["clonazione dell'account"] Olink:grid-federation-what-is-cross-grid-replication.html["replicazione cross-grid"] .




=== Requisiti di rete e indirizzo IP

* Le connessioni di federazione della griglia possono verificarsi sulla rete della griglia, sulla rete di amministrazione o sulla rete client.
* Una connessione di federazione di rete collega una rete a un'altra rete.  La configurazione per ciascuna griglia specifica un endpoint di federazione della griglia sull'altra griglia che è composta da nodi amministrativi, nodi gateway o entrambi.
* La pratica migliore è quella di connettersilink:managing-high-availability-groups.html["gruppi ad alta disponibilità (HA)"] di nodi gateway e amministrativi su ciascuna griglia.  L'utilizzo di gruppi HA aiuta a garantire che le connessioni della federazione di griglia rimangano online anche se i nodi non sono disponibili.  Se l'interfaccia attiva in uno dei gruppi HA fallisce, la connessione può utilizzare un'interfaccia di backup.
* Non è consigliabile creare una connessione di federazione di griglia che utilizzi l'indirizzo IP di un singolo nodo di amministrazione o di un nodo gateway.  Se il nodo non è più disponibile, anche la connessione alla federazione di rete non sarà più disponibile.
* link:grid-federation-what-is-cross-grid-replication.html["Replicazione cross-grid"]degli oggetti richiede che i nodi di archiviazione su ciascuna griglia siano in grado di accedere ai nodi di amministrazione e gateway configurati sull'altra griglia.  Per ogni griglia, verificare che tutti i nodi di archiviazione dispongano di un percorso ad alta larghezza di banda come i nodi di amministrazione o i nodi gateway utilizzati per la connessione.




=== Utilizzare i nomi di dominio completi (FQDN) per bilanciare il carico della connessione

Per un ambiente di produzione, utilizzare nomi di dominio completi (FQDN) per identificare ciascuna griglia nella connessione.  Quindi, creare le voci DNS appropriate, come segue:

* FQDN per Grid 1 mappato a uno o più indirizzi IP virtuali (VIP) per gruppi HA in Grid 1 o all'indirizzo IP di uno o più nodi Admin o Gateway in Grid 1.
* FQDN per Grid 2 mappato a uno o più indirizzi VIP per Grid 2 o all'indirizzo IP di uno o più nodi Admin o Gateway in Grid 2.


Quando si utilizzano più voci DNS, le richieste di utilizzo della connessione vengono bilanciate nel modo seguente:

* Le voci DNS che mappano gli indirizzi VIP di più gruppi HA vengono bilanciate tra i nodi attivi nei gruppi HA.
* Le voci DNS che corrispondono agli indirizzi IP di più nodi amministrativi o nodi gateway vengono bilanciate tra i nodi mappati.




=== Requisiti portuali

Quando si crea una connessione di federazione di griglia, è possibile specificare qualsiasi numero di porta non utilizzato compreso tra 23000 e 23999.  Entrambe le griglie in questa connessione utilizzeranno la stessa porta.

È necessario assicurarsi che nessun nodo in entrambe le griglie utilizzi questa porta per altre connessioni.



=== Requisiti del certificato

Quando si configura una connessione di federazione di griglia, StorageGRID genera automaticamente quattro certificati SSL:

* Certificati server e client per autenticare e crittografare le informazioni inviate dalla griglia 1 alla griglia 2
* Certificati server e client per autenticare e crittografare le informazioni inviate dalla griglia 2 alla griglia 1


image::../media/grid-federation-certificates.png[Certificati di federazione di rete]

Per impostazione predefinita, i certificati sono validi per 730 giorni (2 anni).  Quando questi certificati si avvicinano alla data di scadenza, l'avviso *Scadenza del certificato di federazione della griglia* ti ricorda di ruotare i certificati, operazione che puoi effettuare tramite Grid Manager.


CAUTION: Se i certificati su una delle estremità della connessione scadono, la connessione smetterà di funzionare.  La replica dei dati sarà sospesa finché i certificati non saranno aggiornati.

.Saperne di più
* link:grid-federation-create-connection.html["Creare connessioni di federazione di griglia"]
* link:grid-federation-manage-connection.html["Gestire le connessioni della federazione di rete"]
* link:grid-federation-troubleshoot.html["Risolvere gli errori di federazione della griglia"]

